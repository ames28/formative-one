{"ast":null,"code":"export default {\n  name: 'NewsApp',\n  props: ['apiKey'],\n\n  data() {\n    return {\n      apiUrl: '',\n      isBusy: false,\n      showLoader: false,\n      currentPage: 1,\n      totalResults: 0,\n      maxPerPage: 20,\n      searchword: '',\n      articles: [],\n      country: 'nz',\n      noAuthor: '',\n      noSource: ''\n    };\n  },\n\n  methods: {\n    resetData() {\n      this.currentPage = 1;\n      this.articles = [];\n    },\n\n    fetchTopNews() {\n      this.apiUrl = 'https://newsapi.org/v2/top-headlines?country=' + this.country + '&pageSize=' + this.maxPerPage + '&apiKey=' + this.apiKey;\n      this.isBusy = true;\n      this.searchword = '';\n      this.resetData();\n      this.fetchData();\n    },\n\n    fetchData() {\n      let req = new Request(this.apiUrl + '&page=' + this.currentPage);\n      fetch(req).then(resp => resp.json()).then(data => {\n        this.totalResults = data.totalResults;\n        data.articles.forEach(element => {\n          this.articles.push(element);\n        });\n        this.isBusy = false;\n        this.showLoader = false;\n      }); // .catch((error) => {\n      //     console.log('Error');\n      // })\n    }\n\n  },\n\n  created() {\n    this.fetchTopNews();\n  }\n\n};","map":{"version":3,"mappings":"AAkCA,eAAc;EACVA,IAAI,EAAE,SADI;EAEVC,KAAK,EAAE,CAAC,QAAD,CAFG;;EAGVC,IAAI,GAAE;IACF,OAAM;MACFC,MAAM,EAAE,EADN;MAEFC,MAAM,EAAE,KAFN;MAGFC,UAAU,EAAE,KAHV;MAIFC,WAAW,EAAE,CAJX;MAKFC,YAAY,EAAE,CALZ;MAMFC,UAAU,EAAE,EANV;MAOFC,UAAU,EAAE,EAPV;MAQFC,QAAQ,EAAE,EARR;MASFC,OAAO,EAAE,IATP;MAUFC,QAAQ,EAAE,EAVR;MAWFC,QAAQ,EAAE;IAXR,CAAN;EAaH,CAjBS;;EAkBVC,OAAO,EAAE;IACLC,SAAS,GAAE;MACX,KAAKT,WAAL,GAAmB,CAAnB;MACA,KAAKI,QAAL,GAAgB,EAAhB;IACC,CAJI;;IAKLM,YAAY,GAAG;MACX,KAAKb,MAAL,GAAc,kDAAkD,KAAKQ,OAAvD,GAAiE,YAAjE,GAAgF,KAAKH,UAArF,GAAkG,UAAlG,GAA+G,KAAKS,MAAlI;MACA,KAAKb,MAAL,GAAc,IAAd;MACA,KAAKK,UAAL,GAAkB,EAAlB;MAEA,KAAKM,SAAL;MACA,KAAKG,SAAL;IACH,CAZI;;IAaLA,SAAS,GAAE;MACP,IAAIC,GAAE,GAAI,IAAIC,OAAJ,CAAY,KAAKjB,MAAL,GAAc,QAAd,GAAyB,KAAKG,WAA1C,CAAV;MACAe,KAAK,CAACF,GAAD,CAAL,CACKG,IADL,CACWC,IAAD,IAAUA,IAAI,CAACC,IAAL,EADpB,EAEKF,IAFL,CAEWpB,IAAD,IAAU;QACZ,KAAKK,YAAL,GAAoBL,IAAI,CAACK,YAAzB;QACAL,IAAI,CAACQ,QAAL,CAAce,OAAd,CAAsBC,OAAM,IAAK;UAC7B,KAAKhB,QAAL,CAAciB,IAAd,CAAmBD,OAAnB;QACH,CAFD;QAGA,KAAKtB,MAAL,GAAc,KAAd;QACA,KAAKC,UAAL,GAAkB,KAAlB;MACH,CATL,EAFO,CAYH;MACA;MACA;IACR;;EA5BK,CAlBC;;EAgDVuB,OAAO,GAAG;IACN,KAAKZ,YAAL;EACJ;;AAlDU,CAAd","names":["name","props","data","apiUrl","isBusy","showLoader","currentPage","totalResults","maxPerPage","searchword","articles","country","noAuthor","noSource","methods","resetData","fetchTopNews","apiKey","fetchData","req","Request","fetch","then","resp","json","forEach","element","push","created"],"sourceRoot":"","sources":["/Users/amyweb/Documents/GitHub/formative-one/src/components/News.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"searchbar\">\n            <form @submit.prevent=\"fetchSearchNews\">\n                <input type=\"text\" placeholder=\"search...\" v-model=\"searchword\">\n            </form>\n            <div class=\"search-icons\">\n                <i v-if=\"!isBusy\" class=\"fas fa-search\" @click=\"fetchSearchNews\"></i>\n                <i v-else class=\"fas fa-spinner fa-spin\"></i>\n                <i class=\"fas fa-times\" @click=\"fetchTopNews\"></i>\n            </div>\n        </div>\n        <div class=\"result-list\">\n           <article v-for=\"(article, index) in articles\" :key=\"index\">\n                <header>\n                    <img v-if=\"article.urlToImage\" :src=\"article.urlToImage\" alt=\"\">\n                    <i v-else class=\"fas fa-image\"></i>\n                    <h2>{{article.title}}</h2>\n                    <h5 v-if=\"noAuthor\"> Author Unknown || {{article.source.name}}</h5>\n                    <h5 v-else-if=\"noSource\"> {{article.author}} || Source Unknown</h5>\n                    <h5 v-else>{{article.author}} || {{article.source.name}}</h5>\n                </header>\n                \n                <footer>\n                <i class=\"fas fa-chevron-right\"></i>\n                </footer>\n           </article>\n        </div>\n    </div>\n</template>\n\n<script>\n\n\nexport default{\n    name: 'NewsApp',\n    props: ['apiKey'],\n    data(){\n        return{\n            apiUrl: '',\n            isBusy: false,\n            showLoader: false,\n            currentPage: 1,\n            totalResults: 0,\n            maxPerPage: 20,\n            searchword: '',\n            articles: [],\n            country: 'nz',\n            noAuthor: '',\n            noSource: '',\n        }\n    },\n    methods: {\n        resetData(){\n        this.currentPage = 1;\n        this.articles = [];\n        },\n        fetchTopNews() {\n            this.apiUrl = 'https://newsapi.org/v2/top-headlines?country=' + this.country + '&pageSize=' + this.maxPerPage + '&apiKey=' + this.apiKey;\n            this.isBusy = true;\n            this.searchword = '';\n\n            this.resetData();\n            this.fetchData();\n        },\n        fetchData(){\n            let req = new Request(this.apiUrl + '&page=' + this.currentPage);\n            fetch(req)\n                .then((resp) => resp.json())\n                .then((data) => {\n                    this.totalResults = data.totalResults;\n                    data.articles.forEach(element => {\n                        this.articles.push(element);\n                    });\n                    this.isBusy = false;\n                    this.showLoader = false;\n                })\n                // .catch((error) => {\n                //     console.log('Error');\n                // })\n        }\n    },\n    created() {\n        this.fetchTopNews();\n    }\n}\n\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}